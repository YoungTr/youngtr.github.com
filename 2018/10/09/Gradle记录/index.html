<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android,Gradle," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="1. Gradle 执行流程 全面理解Gradle - 执行时序     2. Project123456789101112131415161718192021222324252627282930313233343536// Project api 讲解// 配置阶段执行this.getProjects()def getProjects() &amp;#123;    println &amp;apos;----">
<meta name="keywords" content="Android,Gradle">
<meta property="og:type" content="article">
<meta property="og:title" content="Gradle记录">
<meta property="og:url" content="https://youngtr.github.io/2018/10/09/Gradle记录/index.html">
<meta property="og:site_name" content="YoungTr">
<meta property="og:description" content="1. Gradle 执行流程 全面理解Gradle - 执行时序     2. Project123456789101112131415161718192021222324252627282930313233343536// Project api 讲解// 配置阶段执行this.getProjects()def getProjects() &amp;#123;    println &amp;apos;----">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://youngtr.github.io/images/gradleflow.png">
<meta property="og:image" content="https://youngtr.github.io/images/gradleflow1.png">
<meta property="og:image" content="https://youngtr.github.io/images/gradleflow2.png">
<meta property="og:image" content="https://youngtr.github.io/images/task_group.png">
<meta property="og:updated_time" content="2018-10-15T13:23:26.214Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gradle记录">
<meta name="twitter:description" content="1. Gradle 执行流程 全面理解Gradle - 执行时序     2. Project123456789101112131415161718192021222324252627282930313233343536// Project api 讲解// 配置阶段执行this.getProjects()def getProjects() &amp;#123;    println &amp;apos;----">
<meta name="twitter:image" content="https://youngtr.github.io/images/gradleflow.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://youngtr.github.io/2018/10/09/Gradle记录/"/>





  <title>Gradle记录 | YoungTr</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YoungTr</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://youngtr.github.io/2018/10/09/Gradle记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YoungTr">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YoungTr">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Gradle记录</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-09T13:16:59+08:00">
                2018-10-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Gradle/" itemprop="url" rel="index">
                    <span itemprop="name">Gradle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="1-Gradle-执行流程"><a href="#1-Gradle-执行流程" class="headerlink" title="1. Gradle 执行流程"></a>1. Gradle 执行流程</h3><ol>
<li><a href="https://blog.csdn.net/singwhatiwanna/article/details/78797506" target="_blank" rel="external">全面理解Gradle - 执行时序</a></li>
</ol>
<p><img src="/images/gradleflow.png" alt=""></p>
<p><img src="/images/gradleflow1.png" alt=""></p>
<p><img src="/images/gradleflow2.png" alt=""></p>
<h3 id="2-Project"><a href="#2-Project" class="headerlink" title="2. Project"></a>2. Project</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">// Project api 讲解</div><div class="line">// 配置阶段执行</div><div class="line">this.getProjects()</div><div class="line"></div><div class="line">def getProjects() &#123;</div><div class="line"></div><div class="line">    println &apos;---------------&apos;</div><div class="line">    println &apos;Root Project&apos;</div><div class="line">    println &apos;--------------&apos;</div><div class="line"></div><div class="line">    this.getAllprojects().eachWithIndex &#123; Project project, int index -&gt;</div><div class="line">        if (index == 0) &#123;</div><div class="line">            println &quot;Root project &apos;:$&#123;project.name&#125;&apos;&quot;</div><div class="line">        &#125; else &#123;</div><div class="line">            println &quot;+--- project &apos;:$&#123;project.name&#125;&apos;&quot;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">// 与 build.gradle 是等同的</div><div class="line">project(&apos;app&apos;) &#123; Project project -&gt;</div><div class="line">    apply plugin: &apos;com.android.application&apos;</div><div class="line">    group &apos;com.youngtr&apos;</div><div class="line">    version &apos;1.0.0&apos;</div><div class="line">    dependencies &#123;&#125;</div><div class="line">    android &#123;&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">project(&apos;libs&apos;) &#123; Project project -&gt;</div><div class="line">    apply plugin: &apos;com.android.library&apos;</div><div class="line">    group &apos;com.youngtr&apos;</div><div class="line">    version &apos;1.0.0&apos;</div><div class="line">    dependencies &#123;&#125;</div><div class="line">    android &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>可以统一设置</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 配置当前结点工程和其 sub project 的所有 project</div><div class="line">allprojects &#123;</div><div class="line">    group &apos;com.youngtr&apos;</div><div class="line">    version &apos;1.0.0&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">println project(&apos;AndroidStub&apos;).group</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">输出： com.youngtr</div></pre></td></tr></table></figure>
<p><strong>sub project</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 不包含当前结点工程，只包括它的 sub project</div><div class="line">subprojects &#123; Project project -&gt;</div><div class="line">    // library 才执行</div><div class="line">    if (project.plugins.hasPlugin(&apos;com.android.library&apos;)) &#123;</div><div class="line">        apply from: &apos;../publishToMaven.gradle&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>属性相关</strong></p>
<ul>
<li>ext</li>
</ul>
<p>定义在 root build.gradle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ext &#123;</div><div class="line">    VERSION_COMPILE_SDK = 27</div><div class="line">    VERSION_BUILD_TOOLS = &apos;26.0.2&apos;</div><div class="line"></div><div class="line">    VERSION_MIN_SDK = 15</div><div class="line">    VERSION_TARGET_SDK = 25</div><div class="line"></div><div class="line">    SOURCE_COMPATIBILITY = JavaVersion.VERSION_1_7</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>sub project 可以直接调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">android &#123;</div><div class="line">    compileSdkVersion VERSION_COMPILE_SDK</div><div class="line">    buildToolsVersion VERSION_BUILD_TOOLS</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>改进：可以写在单独的 gradl 脚本中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">// dependencies.gradle</div><div class="line"></div><div class="line">allprojects &#123;</div><div class="line">    repositories &#123;</div><div class="line">        maven &#123; url &apos;https://maven.google.com&apos; &#125;</div><div class="line">        google()</div><div class="line">        jcenter()</div><div class="line">        maven &#123; url &apos;https://jitpack.io&apos; &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ext &#123;</div><div class="line">    //Android</div><div class="line">    androidBuildToolsVersion = &quot;27.0.2&quot;</div><div class="line">    androidMinSdkVersion = 16</div><div class="line">    androidTargetSdkVersion = 27</div><div class="line">    androidCompileSdkVersion = 27</div><div class="line">    supportLibraryVersion = &apos;27.0.2&apos;</div><div class="line"></div><div class="line">    //ViewLibraries</div><div class="line">    butterKnifeVersion = &apos;8.2.1&apos;</div><div class="line"></div><div class="line">    transitionseverywhere = &apos;1.7.0&apos;</div><div class="line">    floatWindow = &apos;1.0.6&apos;</div><div class="line"></div><div class="line">    //DataLibraries</div><div class="line">    leakcanary = &apos;1.6.1&apos;</div><div class="line"></div><div class="line">    imageLoader = &apos;4.0.0&apos;</div><div class="line"></div><div class="line"></div><div class="line">    okhttp = &apos;3.2.0&apos;</div><div class="line">    okhttpUtil = &apos;2.6.2&apos;</div><div class="line"></div><div class="line">    androidDependencies = [</div><div class="line">            recyclerView: &quot;com.android.support:recyclerview-v7:$&#123;supportLibraryVersion&#125;&quot;,</div><div class="line">            appcompat_v7: &quot;com.android.support:appcompat-v7:$&#123;supportLibraryVersion&#125;&quot;,</div><div class="line">            cardview_v7 : &quot;com.android.support:cardview-v7:$&#123;supportLibraryVersion&#125;&quot;,</div><div class="line">            support_v4  : &quot;com.android.support:support-v4:$&#123;supportLibraryVersion&#125;&quot;,</div><div class="line">            design      : &quot;com.android.support:design:$&#123;supportLibraryVersion&#125;&quot;,</div><div class="line">    ]</div><div class="line"></div><div class="line">    viewDependencies = [</div><div class="line">            transitionseverywhere: &quot;com.andkulikov:transitionseverywhere:$&#123;transitionseverywhere&#125;&quot;,</div><div class="line">            DanmakuFlameMaster   : &quot;com.github.ctiao:DanmakuFlameMaster:$&#123;DanmakuFlameMaster&#125;&quot;,</div><div class="line">            ndkbitmap_armv7a     : &quot;com.github.ctiao:ndkbitmap-armv7a:$&#123;DanmakuFlameMaster&#125;&quot;,</div><div class="line">            ndkbitmap_armv5      : &quot;com.github.ctiao:ndkbitmap-armv5:$&#123;DanmakuFlameMaster&#125;&quot;,</div><div class="line">            ndkbitmap_x86        : &quot;com.github.ctiao:ndkbitmap-x86:$&#123;DanmakuFlameMaster&#125;&quot;,</div><div class="line"></div><div class="line">            glide                : &quot;com.github.bumptech.glide:glide:$&#123;imageLoader&#125;&quot;,</div><div class="line">            glideProcessor       : &quot;com.github.bumptech.glide:compiler:$&#123;imageLoader&#125;&quot;,</div><div class="line">            floatWindow          : &quot;com.github.yhaolpz:FloatWindow:$&#123;floatWindow&#125;&quot;,</div><div class="line"></div><div class="line">    ]</div><div class="line"></div><div class="line">    dataDependencies = [</div><div class="line">            videocache                    : &quot;com.shuyu:gsyvideoplayer-androidvideocache:$&#123;gsyVideoVersion&#125;&quot;,</div><div class="line">            leakcanary                    : &quot;com.squareup.leakcanary:leakcanary-android:$&#123;leakcanary&#125;&quot;,</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在根目录 build.gradle 引入 dependencies.gradle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apply from: &apos;dependencies.gradle&apos;</div></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">android &#123;</div><div class="line">    compileSdkVersion rootProject.ext.androidBuildToolsVersion</div><div class="line">    buildToolsVersion rootProject.ext.androidMinSdkVersion</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>gradle.properties 定义</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">BINTRAY_USER=user</div><div class="line">BINTRAY_KEY=key</div><div class="line">PROJ_GROUP=android</div><div class="line">PROJ_VERSION=1.0.0-beta</div></pre></td></tr></table></figure>
<h3 id="3-文件相关"><a href="#3-文件相关" class="headerlink" title="3. 文件相关"></a>3. 文件相关</h3><h4 id="3-1-获取文件路劲"><a href="#3-1-获取文件路劲" class="headerlink" title="3.1 获取文件路劲"></a>3.1 获取文件路劲</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">println getRootDir().absolutePath</div><div class="line">println getBuildDir().absolutePath</div><div class="line">println getProjectDir().absolutePath</div></pre></td></tr></table></figure>
<h4 id="3-1-文件操作"><a href="#3-1-文件操作" class="headerlink" title="3.1 文件操作"></a>3.1 文件操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">println getContent(&apos;.gitignore&apos;)</div><div class="line"></div><div class="line">def getContent(String path) &#123;</div><div class="line">    try &#123;</div><div class="line">        def file = file(path)</div><div class="line">        return file.text</div><div class="line">    &#125; catch (GradleException e) &#123;</div><div class="line">        println &apos;file not find&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>拷贝文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">copy &#123;</div><div class="line">    from file(&apos;build/outputs/apk/&apos;)</div><div class="line">    into getRootProject().getBuildDir().path + &apos;apk&apos;</div><div class="line"></div><div class="line">    // 除去某些文件</div><div class="line">    exclude &#123;&#125;</div><div class="line">    // 重命名</div><div class="line">    rename &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>文件树操作</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// 对文件树进行遍历</div><div class="line">fileTree(&apos;build/outputs/apk/&apos;)&#123;FileTree fileTree -&gt;</div><div class="line">    fileTree.visit &#123; FileTreeElement element -&gt;</div><div class="line">        println &apos;the file name is &apos; + element.file.name</div><div class="line">        copy &#123;</div><div class="line">            from element.file</div><div class="line">            into getRootProject().getBuildDir().path + &apos;/test/&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="4-依赖相关"><a href="#4-依赖相关" class="headerlink" title="4. 依赖相关"></a>4. 依赖相关</h3><p><strong>root project buildscript</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">buildscript &#123;</div><div class="line"></div><div class="line">    // 配置工程的仓库地址</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">        google()</div><div class="line">        maven &#123;</div><div class="line">            name &apos;personal&apos;</div><div class="line">            url &apos;url&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // 配置工程的&apos;插件&apos;依赖地址</div><div class="line">    dependencies &#123;</div><div class="line">        classpath &apos;com.android.tools.build:gradle:3.0.0&apos;</div><div class="line">        classpath &apos;com.didi.virtualapk:gradle:0.9.8.6&apos;</div><div class="line"></div><div class="line">        classpath &apos;com.github.dcendents:android-maven-gradle-plugin:1.4.1&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>app project</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// 为应用程序添加第三方插件</div><div class="line">dependencies &#123;</div><div class="line">    implementation fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;])</div><div class="line">    testImplementation &apos;junit:junit:4.12&apos;</div><div class="line"></div><div class="line">    implementation &apos;com.android.support:appcompat-v7:23.4.0&apos;</div><div class="line">    implementation &apos;com.didi.virtualapk:core:0.9.8&apos;</div><div class="line">    implementation(project(&apos;:CoreLibrary&apos;)) &#123;</div><div class="line">        exclude module: &apos;support-v4&apos;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-外部命令"><a href="#5-外部命令" class="headerlink" title="5. 外部命令"></a>5. 外部命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">task apkcopy &#123;</div><div class="line"></div><div class="line">    doLast &#123;</div><div class="line">        // gradle 执行阶段执行</div><div class="line">        def sourcePath = this.buildDir.path + &apos;\\outputs\\apk\\&apos;</div><div class="line">        println sourcePath</div><div class="line">        def desationPath = &apos;D:\\Downloads\\&apos;</div><div class="line">        println desationPath</div><div class="line">        def command = &quot;mv -f  $&#123;sourcePath&#125;  $&#123;desationPath&#125;&quot;</div><div class="line">        println command</div><div class="line"></div><div class="line">        exec &#123;</div><div class="line">            try &#123;</div><div class="line">                executable &apos;bash&apos;</div><div class="line">                args &apos;-c&apos;, command</div><div class="line">                println &apos;the command executes success&apos;</div><div class="line">            &#125; catch (GradleException e) &#123;</div><div class="line">                println &apos;the command executes failed, error is&apos; + e.getMessage()</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-task-相关"><a href="#6-task-相关" class="headerlink" title="6. task 相关"></a>6. task 相关</h3><h4 id="6-1-两种创建方式"><a href="#6-1-两种创建方式" class="headerlink" title="6.1 两种创建方式"></a>6.1 两种创建方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">task helloTask(group: &apos;imooc&apos;, description: &apos;task study&apos;) &#123;</div><div class="line"></div><div class="line">    println &apos;Hello task&apos;</div><div class="line">&#125;</div><div class="line"></div><div class="line">this.tasks.create(&apos;helloTask2&apos;) &#123;</div><div class="line">    println &apos;Hello task2&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-2-group-设置分组，默认会分到-other"><a href="#6-2-group-设置分组，默认会分到-other" class="headerlink" title="6.2 group 设置分组，默认会分到 other"></a>6.2 group 设置分组，默认会分到 other</h4><p><img src="/images/task_group.png" alt=""></p>
<h4 id="6-3-执行阶段执行-task，doFirst-doLast"><a href="#6-3-执行阶段执行-task，doFirst-doLast" class="headerlink" title="6.3 执行阶段执行 task，doFirst doLast"></a>6.3 执行阶段执行 task，doFirst doLast</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">// 计算 build 执行时长</div><div class="line">def startBuildTime, endBuildTime</div><div class="line">this.afterEvaluate &#123;</div><div class="line">    // 保证要找的 task 已经配置完毕</div><div class="line">    tasks.getByName(&apos;preBuild&apos;).doFirst &#123;</div><div class="line">        startBuildTime = System.currentTimeMillis()</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    tasks.getByName(&apos;build&apos;).doLast &#123;</div><div class="line">        endBuildTime = System.currentTimeMillis()</div><div class="line">        def duration = (endBuildTime - startBuildTime) / 1000.0</div><div class="line">        println &quot;the build time is: $&#123;duration&#125; ms&quot;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-4-task-依赖"><a href="#6-4-task-依赖" class="headerlink" title="6.4 task 依赖"></a>6.4 task 依赖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">task taskX &#123;</div><div class="line">    doLast &#123;</div><div class="line">        println &apos;taskX&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task taskY &#123;</div><div class="line">    doLast &#123;</div><div class="line">        println &apos;taskY&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task taskZ(dependsOn: [taskX, taskY]) &#123;</div><div class="line">    doLast &#123;</div><div class="line">        println &apos;taskX&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-5-task-输入输出"><a href="#6-5-task-输入输出" class="headerlink" title="6.5 task 输入输出"></a>6.5 task 输入输出</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line">import groovy.xml.MarkupBuilder</div><div class="line"></div><div class="line">/**</div><div class="line"> * 描述：版本发布文档自动维护脚本</div><div class="line"> * 流程描述：  1、请求本次版本相关信息</div><div class="line"> *           2、将版本相关信息解析出来</div><div class="line"> *           3、将解析出的数据生成xml格式数据</div><div class="line"> *           4、写入到已有的文档数据中</div><div class="line"> **/</div><div class="line">ext &#123;</div><div class="line">  versionName = rootProject.ext.android.versionName</div><div class="line">  versionCode = rootProject.ext.android.versionCode</div><div class="line">  versionInfo = &apos;App的第2个版本，上线了一些最基础核心的功能.&apos;</div><div class="line">  destFile = file(&apos;releases.xml&apos;)</div><div class="line">  if (destFile != null &amp;&amp; !destFile.exists()) &#123;</div><div class="line">    destFile.createNewFile()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task writeTask &#123;</div><div class="line">  inputs.property(&apos;versionCode&apos;, this.versionCode)</div><div class="line">  inputs.property(&apos;versionName&apos;, this.versionName)</div><div class="line">  inputs.property(&apos;versionInfo&apos;, this.versionInfo)</div><div class="line">  outputs.file this.destFile</div><div class="line">  doLast &#123;</div><div class="line">    //将输入的内容写入到输出文件中去</div><div class="line">    def data = inputs.getProperties()</div><div class="line">    File file = outputs.getFiles().getSingleFile()</div><div class="line">    def versionMsg = new VersionMsg(data)</div><div class="line">    //将实体对象写入到xml文件中</div><div class="line">    def sw = new StringWriter()</div><div class="line">    def xmlBuilder = new MarkupBuilder(sw)</div><div class="line">    if (file.text != null &amp;&amp; file.text.size() &lt;= 0) &#123;</div><div class="line">      //没有内容</div><div class="line">      xmlBuilder.releases &#123;</div><div class="line">        release &#123;</div><div class="line">          versionCode(versionMsg.versionCode)</div><div class="line">          versionName(versionMsg.versionName)</div><div class="line">          versionInfo(versionMsg.versionInfo)</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">      //直接写入</div><div class="line">      file.withWriter &#123; writer -&gt; writer.append(sw.toString())</div><div class="line">      &#125;</div><div class="line">    &#125; else &#123;</div><div class="line">      //已有其它版本内容</div><div class="line">      xmlBuilder.release &#123;</div><div class="line">        versionCode(versionMsg.versionCode)</div><div class="line">        versionName(versionMsg.versionName)</div><div class="line">        versionInfo(versionMsg.versionInfo)</div><div class="line">      &#125;</div><div class="line">      //插入到最后一行前面</div><div class="line">      def lines = file.readLines()</div><div class="line">      def lengths = lines.size() - 1</div><div class="line">      file.withWriter &#123; writer -&gt;</div><div class="line">        lines.eachWithIndex &#123; line, index -&gt;</div><div class="line">          if (index != lengths) &#123;</div><div class="line">            writer.append(line + &apos;\r\n&apos;)</div><div class="line">          &#125; else if (index == lengths) &#123;</div><div class="line">            writer.append(&apos;\r\r\n&apos; + sw.toString() + &apos;\r\n&apos;)</div><div class="line">            writer.append(lines.get(lengths))</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">class VersionMsg &#123;</div><div class="line">  String versionCode</div><div class="line">  String versionName</div><div class="line">  String versionInfo</div><div class="line">&#125;</div><div class="line"></div><div class="line">task readTask &#123;</div><div class="line">  //指定输入文件为上一个task的输出</div><div class="line">  inputs.file this.destFile</div><div class="line">  doLast &#123;</div><div class="line">    //读取输入文件的内容并显示</div><div class="line">    def file = inputs.files.singleFile</div><div class="line">    println file.text</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task taskZ &#123;</div><div class="line">  dependsOn writeTask, readTask</div><div class="line">  doLast &#123;</div><div class="line">    println &apos;输入输出任务结束&apos;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task handleReleaseFile &#123;</div><div class="line">  def srcFile = file(&apos;releases.xml&apos;)</div><div class="line">  def destDir = new File(this.buildDir, &apos;generated/release/&apos;)</div><div class="line">  doLast &#123;</div><div class="line">    println &apos;开始解析对应的xml文件...&apos;</div><div class="line">    destDir.mkdir()</div><div class="line">    def releases = new XmlParser().parse(srcFile)</div><div class="line">    releases.release.each &#123; releaseNode -&gt;</div><div class="line">      //解析每个release结点的内容</div><div class="line">      def name = releaseNode.versionName.text()</div><div class="line">      def versionCode = releaseNode.versionCode.text()</div><div class="line">      def versionInfo = releaseNode.versionInfo.text()</div><div class="line">      //创建文件并写入结点数据</div><div class="line">      def destFile = new File(destDir, &quot;release-$&#123;name&#125;.txt&quot;)</div><div class="line">      destFile.withWriter &#123; writer -&gt; writer.write(&quot;$&#123;name&#125; -&gt; $&#123;versionCode&#125; -&gt; $&#123;versionInfo&#125;&quot;)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task handleReleaseFileTest(dependsOn: handleReleaseFile) &#123;</div><div class="line">  def dir = fileTree(this.buildDir.path + &apos;generated/release/&apos;)</div><div class="line">  doLast &#123;</div><div class="line">    dir.each &#123;</div><div class="line">      println &apos;the file name is:&apos; + it</div><div class="line">    &#125;</div><div class="line">    println &apos;输出完成...&apos;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="6-6-挂接自定义-task-到构建过程中"><a href="#6-6-挂接自定义-task-到构建过程中" class="headerlink" title="6.6 挂接自定义 task 到构建过程中"></a>6.6 挂接自定义 task 到构建过程中</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">this.afterEvaluate &#123;</div><div class="line">    // 保证要找的 task 已经配置完毕</div><div class="line">    tasks.getByName(&apos;build&apos;).doLast &#123;</div><div class="line">        wirteTask.execute()</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>挂接到指定位置，参考 tinker</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">manifestTask.mustRunAfter variantOutput.processManifest</div><div class="line"></div><div class="line">variantOutput.processResources.dependsOn manifestTask</div></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
            <a href="/tags/Gradle/" rel="tag"># Gradle</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/28/Android-Knowleage-Point/" rel="next" title="Android 积累记录">
                <i class="fa fa-chevron-left"></i> Android 积累记录
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/12/Groovy-笔记/" rel="prev" title="Groovy 笔记">
                Groovy 笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="YoungTr" />
          <p class="site-author-name" itemprop="name">YoungTr</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Gradle-执行流程"><span class="nav-number">1.</span> <span class="nav-text">1. Gradle 执行流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Project"><span class="nav-number">2.</span> <span class="nav-text">2. Project</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-文件相关"><span class="nav-number">3.</span> <span class="nav-text">3. 文件相关</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-获取文件路劲"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 获取文件路劲</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-文件操作"><span class="nav-number">3.2.</span> <span class="nav-text">3.1 文件操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-依赖相关"><span class="nav-number">4.</span> <span class="nav-text">4. 依赖相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-外部命令"><span class="nav-number">5.</span> <span class="nav-text">5. 外部命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-task-相关"><span class="nav-number">6.</span> <span class="nav-text">6. task 相关</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-两种创建方式"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 两种创建方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-group-设置分组，默认会分到-other"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 group 设置分组，默认会分到 other</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-执行阶段执行-task，doFirst-doLast"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 执行阶段执行 task，doFirst doLast</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-4-task-依赖"><span class="nav-number">6.4.</span> <span class="nav-text">6.4 task 依赖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-5-task-输入输出"><span class="nav-number">6.5.</span> <span class="nav-text">6.5 task 输入输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-6-挂接自定义-task-到构建过程中"><span class="nav-number">6.6.</span> <span class="nav-text">6.6 挂接自定义 task 到构建过程中</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YoungTr</span>
</div>

        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
